import{S as x}from"./DEnVEwvk.js";import{_ as A}from"./C3Fohc35.js";import{bG as i,bC as h,bV as E,bK as c,bL as u,bM as e,bR as S,ce as v,bY as g,bO as V,bP as D,bS as I,bT as o,bQ as $,cf as G,cg as _}from"./DUMqHgQJ.js";const K={class:"bg-surface-0 dark:bg-surface-900 min-h-screen"},Q={class:"container mx-auto px-4 py-6"},R={class:"bg-white dark:bg-surface-800 rounded-lg shadow-sm border border-surface-200 dark:border-surface-700 p-4 mb-6"},Y={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},q={class:"relative"},H={class:"bg-white dark:bg-surface-800 rounded-lg shadow-sm border border-surface-200 dark:border-surface-700 overflow-hidden"},J={class:"overflow-x-auto"},W={class:"w-full"},X={class:"bg-surface-50 dark:bg-surface-800/50 border-b border-surface-200 dark:border-surface-700"},Z=["onClick"],ee={class:"flex items-center gap-1"},te={class:"px-4 py-3 text-sm text-surface-800 dark:text-white"},ae={class:"px-4 py-3 text-sm text-surface-800 dark:text-white"},se={class:"px-4 py-3 text-sm text-surface-800 dark:text-white"},re={class:"px-4 py-3 text-sm text-surface-800 dark:text-white"},oe={class:"px-4 py-3 text-sm text-surface-800 dark:text-white"},le={class:"px-4 py-3"},de={class:"px-4 py-3"},ue={class:"px-4 py-3 text-sm text-surface-800 dark:text-white"},ne={class:"px-4 py-3 text-sm text-surface-800 dark:text-white"},ce={key:0,class:"py-10 flex justify-center items-center"},ie={key:1,class:"py-10 flex flex-col justify-center items-center"},fe={key:2,class:"px-4 py-3 border-t border-surface-200 dark:border-surface-700 flex flex-col md:flex-row md:items-center md:justify-between gap-4"},be={class:"text-sm text-surface-500 dark:text-surface-400"},pe={class:"flex items-center gap-2"},xe={class:"flex items-center gap-1"},ve=["disabled"],ge=["disabled"],ke={class:"px-3 py-1 text-sm text-surface-800 dark:text-white bg-surface-100 dark:bg-surface-800 rounded border border-surface-300 dark:border-surface-600"},ye=["disabled"],me=["disabled"],he={__name:"MerchantInfoView",setup(_e){const T={1:"活跃",2:"禁用",3:"审核中"},L={1:"实体店",2:"网店",3:"混合经营"},j=[{key:"id",label:"商家ID"},{key:"name",label:"商家名称"},{key:"contact_person",label:"联系人"},{key:"contact_phone",label:"联系电话"},{key:"address",label:"地址"},{key:"status",label:"状态"},{key:"type",label:"商家类型"},{key:"created_at",label:"创建时间"},{key:"updated_at",label:"更新时间"}],w=i([]),k=i(!1),d=i({name:"",status:"",type:""}),l=i({key:null,direction:"asc"}),r=i(1),n=i(10),b=h(()=>{let s=[...w.value];if(d.value.name){const t=d.value.name.toLowerCase();s=s.filter(a=>a.name.toLowerCase().includes(t))}return d.value.status&&(s=s.filter(t=>t.status===parseInt(d.value.status))),d.value.type&&(s=s.filter(t=>t.type===parseInt(d.value.type))),l.value.key&&s.sort((t,a)=>{let f=t[l.value.key],p=a[l.value.key];return["created_at","updated_at"].includes(l.value.key)&&(f=new Date(f),p=new Date(p)),f<p?l.value.direction==="asc"?-1:1:f>p?l.value.direction==="asc"?1:-1:0}),s}),y=h(()=>Math.ceil(b.value.length/n.value)),C=h(()=>{const s=(r.value-1)*n.value,t=s+n.value;return b.value.slice(s,t)}),B=()=>{k.value=!0,setTimeout(()=>{const s=[];for(let t=1;t<=30;t++)s.push({id:t,name:`商家${t}`,contact_person:`联系人${t}`,contact_phone:`1380013800${t}`,address:`北京市朝阳区某某街道${t}号`,status:Math.floor(Math.random()*3)+1,type:Math.floor(Math.random()*3)+1,created_at:new Date(Date.now()-Math.random()*30*24*60*60*1e3).toISOString().replace("T"," ").slice(0,19),updated_at:new Date(Date.now()-Math.random()*15*24*60*60*1e3).toISOString().replace("T"," ").slice(0,19)});w.value=s,k.value=!1},500)},m=()=>{r.value=1},P=s=>{l.value.key===s?l.value.direction=l.value.direction==="asc"?"desc":"asc":(l.value.key=s,l.value.direction="asc")},U=()=>{r.value=1},z=s=>({1:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",2:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200",3:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200"})[s]||"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200",O=s=>T[s]||"未知",F=s=>({1:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",2:"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200",3:"bg-indigo-100 text-indigo-800 dark:bg-indigo-900 dark:text-indigo-200"})[s]||"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200",N=s=>L[s]||"未知",M=s=>s||"";return E(()=>{B()}),(s,t)=>(u(),c("div",K,[t[16]||(t[16]=e("div",{class:"border-b border-surface-200 dark:border-surface-800"},[e("div",{class:"container mx-auto px-4 py-4 flex flex-col md:flex-row md:items-center md:justify-between gap-4"},[e("div",null,[e("h1",{class:"text-2xl font-bold text-surface-800 dark:text-white"},"商家信息"),e("p",{class:"text-surface-500 dark:text-surface-400 mt-1"},"管理系统商家信息")])])],-1)),e("div",Q,[e("div",R,[e("div",Y,[e("div",null,[t[8]||(t[8]=e("label",{class:"block text-sm font-medium text-surface-700 dark:text-surface-300 mb-1"},"商家名称",-1)),e("div",q,[S(g(x),{icon:"search",class:"absolute left-3 top-1/2 transform -translate-y-1/2 text-surface-400"}),v(e("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=a=>d.value.name=a),onInput:m,placeholder:"请输入商家名称",class:"w-full pl-10 pr-4 py-2 rounded-lg border border-surface-300 dark:border-surface-600 bg-surface-0 dark:bg-surface-900 text-surface-800 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-all"},null,544),[[G,d.value.name]])])]),e("div",null,[t[10]||(t[10]=e("label",{class:"block text-sm font-medium text-surface-700 dark:text-surface-300 mb-1"},"商家状态",-1)),v(e("select",{"onUpdate:modelValue":t[1]||(t[1]=a=>d.value.status=a),onChange:m,class:"w-full px-4 py-2 rounded-lg border border-surface-300 dark:border-surface-600 bg-surface-0 dark:bg-surface-900 text-surface-800 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-all"},[...t[9]||(t[9]=[e("option",{value:""},"全部",-1),e("option",{value:"1"},"活跃",-1),e("option",{value:"2"},"禁用",-1),e("option",{value:"3"},"审核中",-1)])],544),[[_,d.value.status]])]),e("div",null,[t[12]||(t[12]=e("label",{class:"block text-sm font-medium text-surface-700 dark:text-surface-300 mb-1"},"商家类型",-1)),v(e("select",{"onUpdate:modelValue":t[2]||(t[2]=a=>d.value.type=a),onChange:m,class:"w-full px-4 py-2 rounded-lg border border-surface-300 dark:border-surface-600 bg-surface-0 dark:bg-surface-900 text-surface-800 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-all"},[...t[11]||(t[11]=[e("option",{value:""},"全部",-1),e("option",{value:"1"},"实体店",-1),e("option",{value:"2"},"网店",-1),e("option",{value:"3"},"混合经营",-1)])],544),[[_,d.value.type]])])])]),e("div",H,[e("div",J,[e("table",W,[e("thead",null,[e("tr",X,[(u(),c(V,null,D(j,a=>e("th",{key:a.key,onClick:f=>P(a.key),class:"px-4 py-3 text-left text-sm font-medium text-surface-700 dark:text-surface-300 cursor-pointer hover:bg-surface-100 dark:hover:bg-surface-700/50 transition-all"},[e("div",ee,[e("span",null,o(a.label),1),l.value.key===a.key?(u(),I(g(x),{key:0,icon:l.value.direction==="asc"?"sort-up":"sort-down",class:"text-xs"},null,8,["icon"])):(u(),I(g(x),{key:1,icon:"sort",class:"text-xs text-surface-400"}))])],8,Z)),64))])]),e("tbody",null,[(u(!0),c(V,null,D(C.value,a=>(u(),c("tr",{key:a.id,class:"border-b border-surface-200 dark:border-surface-700 hover:bg-surface-50 dark:hover:bg-surface-800/50 transition-all"},[e("td",te,o(a.id),1),e("td",ae,o(a.name),1),e("td",se,o(a.contact_person),1),e("td",re,o(a.contact_phone),1),e("td",oe,o(a.address),1),e("td",le,[e("span",{class:$(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",z(a.status)])},o(O(a.status)),3)]),e("td",de,[e("span",{class:$(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",F(a.type)])},o(N(a.type)),3)]),e("td",ue,o(M(a.created_at)),1),e("td",ne,o(M(a.updated_at)),1)]))),128))])])]),k.value?(u(),c("div",ce,[...t[13]||(t[13]=[e("div",{class:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary-500"},null,-1)])])):C.value.length===0?(u(),c("div",ie,[S(g(x),{icon:"store-slash",class:"text-4xl text-surface-300 dark:text-surface-600 mb-2"}),t[14]||(t[14]=e("p",{class:"text-surface-500 dark:text-surface-400"},"暂无商家数据",-1))])):(u(),c("div",fe,[e("div",be," 显示 "+o((r.value-1)*n.value+1)+" 到 "+o(Math.min(r.value*n.value,b.value.length))+" 条，共 "+o(b.value.length)+" 条 ",1),e("div",pe,[v(e("select",{"onUpdate:modelValue":t[3]||(t[3]=a=>n.value=a),onChange:U,class:"px-2 py-1 rounded border border-surface-300 dark:border-surface-600 bg-surface-0 dark:bg-surface-900 text-surface-800 dark:text-white text-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500"},[...t[15]||(t[15]=[e("option",{value:"5"},"5条/页",-1),e("option",{value:"10"},"10条/页",-1),e("option",{value:"20"},"20条/页",-1),e("option",{value:"50"},"50条/页",-1)])],544),[[_,n.value]]),e("div",xe,[e("button",{onClick:t[4]||(t[4]=a=>r.value=1),disabled:r.value===1,class:"px-3 py-1 rounded border border-surface-300 dark:border-surface-600 bg-surface-0 dark:bg-surface-900 text-surface-800 dark:text-white text-sm hover:bg-surface-100 dark:hover:bg-surface-800 disabled:opacity-50 disabled:cursor-not-allowed transition-all"}," 首页 ",8,ve),e("button",{onClick:t[5]||(t[5]=a=>r.value--),disabled:r.value===1,class:"px-3 py-1 rounded border border-surface-300 dark:border-surface-600 bg-surface-0 dark:bg-surface-900 text-surface-800 dark:text-white text-sm hover:bg-surface-100 dark:hover:bg-surface-800 disabled:opacity-50 disabled:cursor-not-allowed transition-all"}," 上一页 ",8,ge),e("span",ke,o(r.value),1),e("button",{onClick:t[6]||(t[6]=a=>r.value++),disabled:r.value===y.value,class:"px-3 py-1 rounded border border-surface-300 dark:border-surface-600 bg-surface-0 dark:bg-surface-900 text-surface-800 dark:text-white text-sm hover:bg-surface-100 dark:hover:bg-surface-800 disabled:opacity-50 disabled:cursor-not-allowed transition-all"}," 下一页 ",8,ye),e("button",{onClick:t[7]||(t[7]=a=>r.value=y.value),disabled:r.value===y.value,class:"px-3 py-1 rounded border border-surface-300 dark:border-surface-600 bg-surface-0 dark:bg-surface-900 text-surface-800 dark:text-white text-sm hover:bg-surface-100 dark:hover:bg-surface-800 disabled:opacity-50 disabled:cursor-not-allowed transition-all"}," 末页 ",8,me)])])]))])])]))}},Se=A(he,[["__scopeId","data-v-51c0f007"]]);export{Se as default};
