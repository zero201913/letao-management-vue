import{_ as N}from"./nNeb7KJf.js";import{_ as u}from"./B1TMtX0U.js";import{_ as U}from"./D-VSIHmp.js";import{B as E}from"./BhvsvJQ2.js";import{bG as n,bC as P,bK as x,bL as m,bM as t,bR as o,bS as i,cc as p,ce as d,cf as w,bO as T,bP as $,bT as r,cg as _}from"./Cf7XUrrC.js";import"./BUmBeC9B.js";import"./EFZavzD9.js";const A={class:"space-y-6"},G={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},K={class:"p-4 border-b border-surface-200 dark:border-surface-700 flex flex-col sm:flex-row gap-4"},O={class:"relative flex-1"},Q={class:"flex gap-2"},R=["value"],q={class:"overflow-x-auto"},H={class:"w-full"},J={class:"divide-y divide-surface-100 dark:divide-surface-800"},W={class:"px-6 py-4 whitespace-nowrap text-sm text-surface-600 dark:text-surface-300"},X={class:"px-6 py-4 whitespace-nowrap"},Y={class:"flex items-center gap-3"},Z={class:"text-sm font-medium text-surface-800 dark:text-white"},ee={class:"px-6 py-4 whitespace-nowrap"},te={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-surface-800 dark:text-white"},se={class:"px-6 py-4 whitespace-nowrap text-sm text-surface-600 dark:text-surface-300"},ae={class:"px-6 py-4 whitespace-nowrap"},le={class:"px-6 py-4 whitespace-nowrap text-sm text-surface-500"},ie={class:"px-6 py-4 whitespace-nowrap"},oe={class:"flex items-center gap-2"},re={class:"p-4 border-t border-surface-200 dark:border-surface-700 flex items-center justify-between"},ne={class:"text-sm text-surface-500"},ue={class:"flex gap-2"},de={class:"space-y-4"},ce={class:"grid grid-cols-2 gap-4"},pe=["value"],fe={class:"grid grid-cols-2 gap-4"},ve={class:"flex justify-end gap-3"},he={__name:"ProductManagementView",setup(xe){const h=n(""),g=n(""),b=n(""),f=n(1),C=n(10),V=n(5),v=n(!1),k=n("add"),M=["电子产品","家居用品","服装","食品","美妆"],c=n([{id:1,name:"产品1",category:"电子产品",price:"¥999",stock:100,status:"active",createTime:"2023-01-01 12:00:00"},{id:2,name:"产品2",category:"家居用品",price:"¥199",stock:50,status:"active",createTime:"2023-01-02 10:30:00"},{id:3,name:"产品3",category:"服装",price:"¥299",stock:200,status:"inactive",createTime:"2023-01-03 09:15:00"},{id:4,name:"产品4",category:"食品",price:"¥49",stock:300,status:"active",createTime:"2023-01-04 14:45:00"},{id:5,name:"产品5",category:"美妆",price:"¥149",stock:150,status:"active",createTime:"2023-01-05 16:20:00"}]),a=n({id:null,name:"",category:"电子产品",price:"",stock:0,status:"active"}),S=P(()=>Math.ceil(V.value/C.value)),z=P(()=>c.value.filter(l=>{const e=l.name.toLowerCase().includes(h.value.toLowerCase()),s=!g.value||l.category===g.value,y=!b.value||l.status===b.value;return e&&s&&y})),B=P(()=>k.value==="add"?"添加产品":"编辑产品"),D=()=>{k.value="add",a.value={id:null,name:"",category:"电子产品",price:"",stock:0,status:"active"},v.value=!0},L=l=>{k.value="edit",a.value={...l},v.value=!0},j=l=>{console.log("查看产品:",l)},F=l=>{if(confirm(`确定要删除产品 "${l.name}" 吗？`)){const e=c.value.findIndex(s=>s.id===l.id);e>-1&&c.value.splice(e,1)}},I=()=>{if(k.value==="add")a.value.id=c.value.length+1,c.value.push({...a.value,createTime:new Date().toLocaleString()});else{const l=c.value.findIndex(e=>e.id===a.value.id);l>-1&&(c.value[l]={...a.value})}v.value=!1};return(l,e)=>(m(),x("div",A,[t("div",G,[e[13]||(e[13]=t("h2",{class:"text-2xl font-bold text-surface-800 dark:text-white"},"产品管理",-1)),o(u,{variant:"primary",onClick:D},{default:i(()=>[...e[12]||(e[12]=[t("i",{class:"fas fa-plus mr-2"},null,-1),p(" 添加产品 ",-1)])]),_:1})]),o(N,{padding:!1},{default:i(()=>[t("div",K,[t("div",O,[e[14]||(e[14]=t("i",{class:"fas fa-search absolute left-3 top-1/2 -translate-y-1/2 text-surface-400"},null,-1)),d(t("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=s=>h.value=s),placeholder:"搜索产品...",class:"input pl-10"},null,512),[[w,h.value]])]),t("div",Q,[d(t("select",{"onUpdate:modelValue":e[1]||(e[1]=s=>g.value=s),class:"input w-auto"},[e[15]||(e[15]=t("option",{value:""},"全部分类",-1)),(m(),x(T,null,$(M,s=>t("option",{key:s,value:s},r(s),9,R)),64))],512),[[_,g.value]]),d(t("select",{"onUpdate:modelValue":e[2]||(e[2]=s=>b.value=s),class:"input w-auto"},[...e[16]||(e[16]=[t("option",{value:""},"全部状态",-1),t("option",{value:"active"},"在售",-1),t("option",{value:"inactive"},"下架",-1)])],512),[[_,b.value]])])]),t("div",q,[t("table",H,[e[21]||(e[21]=t("thead",{class:"bg-surface-50 dark:bg-surface-800"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-semibold text-surface-600 dark:text-surface-400 uppercase tracking-wider"},"ID"),t("th",{class:"px-6 py-3 text-left text-xs font-semibold text-surface-600 dark:text-surface-400 uppercase tracking-wider"},"产品名称"),t("th",{class:"px-6 py-3 text-left text-xs font-semibold text-surface-600 dark:text-surface-400 uppercase tracking-wider"},"分类"),t("th",{class:"px-6 py-3 text-left text-xs font-semibold text-surface-600 dark:text-surface-400 uppercase tracking-wider"},"价格"),t("th",{class:"px-6 py-3 text-left text-xs font-semibold text-surface-600 dark:text-surface-400 uppercase tracking-wider"},"库存"),t("th",{class:"px-6 py-3 text-left text-xs font-semibold text-surface-600 dark:text-surface-400 uppercase tracking-wider"},"状态"),t("th",{class:"px-6 py-3 text-left text-xs font-semibold text-surface-600 dark:text-surface-400 uppercase tracking-wider"},"创建时间"),t("th",{class:"px-6 py-3 text-left text-xs font-semibold text-surface-600 dark:text-surface-400 uppercase tracking-wider"},"操作")])],-1)),t("tbody",J,[(m(!0),x(T,null,$(z.value,s=>(m(),x("tr",{key:s.id,class:"hover:bg-surface-50 dark:hover:bg-surface-800/50 transition-colors"},[t("td",W,r(s.id),1),t("td",X,[t("div",Y,[e[17]||(e[17]=t("div",{class:"w-10 h-10 rounded-lg bg-surface-100 dark:bg-surface-700 flex items-center justify-center"},[t("i",{class:"fas fa-box text-surface-400"})],-1)),t("span",Z,r(s.name),1)])]),t("td",ee,[o(U,{variant:"info"},{default:i(()=>[p(r(s.category),1)]),_:2},1024)]),t("td",te,r(s.price),1),t("td",se,r(s.stock),1),t("td",ae,[o(U,{variant:s.status==="active"?"success":"warning"},{default:i(()=>[p(r(s.status==="active"?"在售":"下架"),1)]),_:2},1032,["variant"])]),t("td",le,r(s.createTime),1),t("td",ie,[t("div",oe,[o(u,{variant:"ghost",size:"sm",onClick:y=>j(s)},{default:i(()=>[...e[18]||(e[18]=[t("i",{class:"fas fa-eye"},null,-1)])]),_:1},8,["onClick"]),o(u,{variant:"ghost",size:"sm",onClick:y=>L(s)},{default:i(()=>[...e[19]||(e[19]=[t("i",{class:"fas fa-edit"},null,-1)])]),_:1},8,["onClick"]),o(u,{variant:"ghost",size:"sm",onClick:y=>F(s)},{default:i(()=>[...e[20]||(e[20]=[t("i",{class:"fas fa-trash text-danger-500"},null,-1)])]),_:1},8,["onClick"])])])]))),128))])])]),t("div",re,[t("p",ne," 显示 "+r((f.value-1)*C.value+1)+" 到 "+r(Math.min(f.value*C.value,V.value))+" 条，共 "+r(V.value)+" 条 ",1),t("div",ue,[o(u,{variant:"secondary",size:"sm",disabled:f.value===1,onClick:e[3]||(e[3]=s=>f.value--)},{default:i(()=>[...e[22]||(e[22]=[t("i",{class:"fas fa-chevron-left mr-1"},null,-1),p(" 上一页 ",-1)])]),_:1},8,["disabled"]),o(u,{variant:"secondary",size:"sm",disabled:f.value===S.value,onClick:e[4]||(e[4]=s=>f.value++)},{default:i(()=>[...e[23]||(e[23]=[p(" 下一页 ",-1),t("i",{class:"fas fa-chevron-right ml-1"},null,-1)])]),_:1},8,["disabled"])])])]),_:1}),o(E,{modelValue:v.value,"onUpdate:modelValue":e[11]||(e[11]=s=>v.value=s),title:B.value},{footer:i(()=>[t("div",ve,[o(u,{variant:"secondary",onClick:e[10]||(e[10]=s=>v.value=!1)},{default:i(()=>[...e[30]||(e[30]=[p("取消",-1)])]),_:1}),o(u,{variant:"primary",onClick:I},{default:i(()=>[...e[31]||(e[31]=[p("保存",-1)])]),_:1})])]),default:i(()=>[t("div",de,[t("div",null,[e[24]||(e[24]=t("label",{class:"label"},"产品名称",-1)),d(t("input",{type:"text","onUpdate:modelValue":e[5]||(e[5]=s=>a.value.name=s),class:"input",placeholder:"请输入产品名称"},null,512),[[w,a.value.name]])]),t("div",ce,[t("div",null,[e[25]||(e[25]=t("label",{class:"label"},"分类",-1)),d(t("select",{"onUpdate:modelValue":e[6]||(e[6]=s=>a.value.category=s),class:"input"},[(m(),x(T,null,$(M,s=>t("option",{key:s,value:s},r(s),9,pe)),64))],512),[[_,a.value.category]])]),t("div",null,[e[26]||(e[26]=t("label",{class:"label"},"价格",-1)),d(t("input",{type:"text","onUpdate:modelValue":e[7]||(e[7]=s=>a.value.price=s),class:"input",placeholder:"¥0.00"},null,512),[[w,a.value.price]])])]),t("div",fe,[t("div",null,[e[27]||(e[27]=t("label",{class:"label"},"库存",-1)),d(t("input",{type:"number","onUpdate:modelValue":e[8]||(e[8]=s=>a.value.stock=s),class:"input",placeholder:"0"},null,512),[[w,a.value.stock]])]),t("div",null,[e[29]||(e[29]=t("label",{class:"label"},"状态",-1)),d(t("select",{"onUpdate:modelValue":e[9]||(e[9]=s=>a.value.status=s),class:"input"},[...e[28]||(e[28]=[t("option",{value:"active"},"在售",-1),t("option",{value:"inactive"},"下架",-1)])],512),[[_,a.value.status]])])])])]),_:1},8,["modelValue","title"])]))}};export{he as default};
