import{S as i}from"./DEnVEwvk.js";import{_ as z}from"./C3Fohc35.js";import{bG as x,bC as h,bV as O,bD as A,bK as f,bL as l,bM as e,bR as m,ce as k,bY as b,bO as V,bP as M,bS as I,bT as n,bQ as N,cf as F,cg as w}from"./DUMqHgQJ.js";const E={class:"bg-surface-0 dark:bg-surface-900 min-h-screen"},G={class:"container mx-auto px-4 py-6"},K={class:"bg-white dark:bg-surface-800 rounded-lg shadow-sm border border-surface-200 dark:border-surface-700 p-4 mb-6"},Q={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},R={class:"relative"},Y={class:"bg-white dark:bg-surface-800 rounded-lg shadow-sm border border-surface-200 dark:border-surface-700 overflow-hidden"},q={class:"overflow-x-auto"},H={class:"w-full"},J={class:"bg-surface-50 dark:bg-surface-800/50 border-b border-surface-200 dark:border-surface-700"},W=["onClick"],X={class:"flex items-center gap-1"},Z={class:"px-4 py-3 text-sm text-surface-800 dark:text-white"},ee={class:"px-4 py-3 text-sm text-surface-800 dark:text-white"},te={class:"px-4 py-3 text-sm text-surface-800 dark:text-white"},ae={class:"flex items-center gap-2"},se={class:"text-xs text-surface-500"},re={class:"px-4 py-3"},oe={class:"px-4 py-3"},de={class:"px-4 py-3 text-sm text-surface-800 dark:text-white"},ne={class:"px-4 py-3 text-sm text-surface-800 dark:text-white"},le={class:"px-4 py-3"},ue={class:"flex items-center gap-2"},ce={class:"text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 transition-colors"},ie={class:"text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300 transition-colors"},fe={class:"text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-300 transition-colors"},be={key:0,class:"py-10 flex justify-center items-center"},xe={key:1,class:"py-10 flex flex-col justify-center items-center"},me={key:2,class:"px-4 py-3 border-t border-surface-200 dark:border-surface-700 flex flex-col md:flex-row md:items-center md:justify-between gap-4"},pe={class:"text-sm text-surface-500 dark:text-surface-400"},ve={class:"flex items-center gap-2"},ge={class:"flex items-center gap-1"},ke=["disabled"],ye=["disabled"],_e={class:"px-3 py-1 text-sm text-surface-800 dark:text-white bg-surface-100 dark:bg-surface-800 rounded border border-surface-300 dark:border-surface-600"},he=["disabled"],we=["disabled"],Ce={__name:"CategoryManagementView",setup(De){const $={1:"启用",2:"停用"},T={0:"否",1:"是"},j=[{key:"category_id",label:"分类ID"},{key:"category_code",label:"分类编码"},{key:"category_name",label:"分类名称"},{key:"status",label:"状态"},{key:"is_deleted",label:"是否删除"},{key:"created_at",label:"创建时间"},{key:"updated_at",label:"更新时间"}],B=[{name:"个护",count:60},{name:"二次元",count:60},{name:"五金",count:59},{name:"农牧",count:60},{name:"卡券",count:59},{name:"图书",count:59},{name:"宠物",count:59},{name:"家具",count:59},{name:"家电",count:59},{name:"家装",count:59},{name:"手机",count:59},{name:"技能",count:59},{name:"文玩",count:59},{name:"服饰",count:60},{name:"母婴",count:59},{name:"汽车",count:59},{name:"游戏",count:59},{name:"潮玩",count:59},{name:"珠宝",count:59},{name:"电动车",count:59},{name:"电脑",count:59},{name:"相机",count:48},{name:"礼品",count:59},{name:"租房",count:59},{name:"箱包",count:59},{name:"美妆",count:59},{name:"花卉",count:59},{name:"设备",count:59},{name:"运动",count:59},{name:"音像",count:58},{name:"食品",count:59}],C=x([]),y=x(!1),r=x({categoryName:"",status:"",isDeleted:""}),d=x({key:null,direction:"asc"}),o=x(1),c=x(10),p=h(()=>{let s=[...C.value];if(r.value.categoryName){const t=r.value.categoryName.toLowerCase();s=s.filter(a=>a.category_name.toLowerCase().includes(t))}return r.value.status&&(s=s.filter(t=>t.status===parseInt(r.value.status))),r.value.isDeleted&&(s=s.filter(t=>t.is_deleted===parseInt(r.value.isDeleted))),d.value.key&&s.sort((t,a)=>{let u=t[d.value.key],g=a[d.value.key];return["created_at","updated_at"].includes(d.value.key)&&(u=new Date(u),g=new Date(g)),u<g?d.value.direction==="asc"?-1:1:u>g?d.value.direction==="asc"?1:-1:0}),s}),_=h(()=>Math.ceil(p.value.length/c.value)),D=h(()=>{const s=(o.value-1)*c.value,t=s+c.value;return p.value.slice(s,t)}),L=()=>{y.value=!0,setTimeout(()=>{const s=B.map((t,a)=>{const u=a+1;return{category_id:u,category_code:`CAT${String(u).padStart(3,"0")}`,category_name:t.name,status:1,is_deleted:0,product_count:t.count,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}});C.value=s,y.value=!1},500)},v=()=>{o.value=1},P=s=>{d.value.key===s?d.value.direction=d.value.direction==="asc"?"desc":"asc":(d.value.key=s,d.value.direction="asc")},U=()=>{o.value=1},S=s=>s||"";return O(()=>{L()}),A(()=>[r.value.categoryName,r.value.status,r.value.isDeleted],()=>{v()}),(s,t)=>(l(),f("div",E,[t[17]||(t[17]=e("div",{class:"border-b border-surface-200 dark:border-surface-800"},[e("div",{class:"container mx-auto px-4 py-4 flex flex-col md:flex-row md:items-center md:justify-between gap-4"},[e("div",null,[e("h1",{class:"text-2xl font-bold text-surface-800 dark:text-white"},"商品分类管理"),e("p",{class:"text-surface-500 dark:text-surface-400 mt-1"},"管理系统商品分类信息")])])],-1)),e("div",G,[e("div",K,[e("div",Q,[e("div",null,[t[8]||(t[8]=e("label",{class:"block text-sm font-medium text-surface-700 dark:text-surface-300 mb-1"},"分类名称",-1)),e("div",R,[m(b(i),{icon:"search",class:"absolute left-3 top-1/2 transform -translate-y-1/2 text-surface-400"}),k(e("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=a=>r.value.categoryName=a),onInput:v,placeholder:"请输入分类名称",class:"w-full pl-10 pr-4 py-2 rounded-lg border border-surface-300 dark:border-surface-600 bg-surface-0 dark:bg-surface-900 text-surface-800 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-all"},null,544),[[F,r.value.categoryName]])])]),e("div",null,[t[10]||(t[10]=e("label",{class:"block text-sm font-medium text-surface-700 dark:text-surface-300 mb-1"},"状态",-1)),k(e("select",{"onUpdate:modelValue":t[1]||(t[1]=a=>r.value.status=a),onChange:v,class:"w-full px-4 py-2 rounded-lg border border-surface-300 dark:border-surface-600 bg-surface-0 dark:bg-surface-900 text-surface-800 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-all"},[...t[9]||(t[9]=[e("option",{value:""},"全部",-1),e("option",{value:"1"},"启用",-1),e("option",{value:"2"},"停用",-1)])],544),[[w,r.value.status]])]),e("div",null,[t[12]||(t[12]=e("label",{class:"block text-sm font-medium text-surface-700 dark:text-surface-300 mb-1"},"是否删除",-1)),k(e("select",{"onUpdate:modelValue":t[2]||(t[2]=a=>r.value.isDeleted=a),onChange:v,class:"w-full px-4 py-2 rounded-lg border border-surface-300 dark:border-surface-600 bg-surface-0 dark:bg-surface-900 text-surface-800 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-all"},[...t[11]||(t[11]=[e("option",{value:""},"全部",-1),e("option",{value:"0"},"否",-1),e("option",{value:"1"},"是",-1)])],544),[[w,r.value.isDeleted]])])])]),e("div",Y,[e("div",q,[e("table",H,[e("thead",null,[e("tr",J,[(l(),f(V,null,M(j,a=>e("th",{key:a.key,onClick:u=>P(a.key),class:"px-4 py-3 text-left text-sm font-medium text-surface-700 dark:text-surface-300 cursor-pointer hover:bg-surface-100 dark:hover:bg-surface-700/50 transition-all"},[e("div",X,[e("span",null,n(a.label),1),d.value.key===a.key?(l(),I(b(i),{key:0,icon:d.value.direction==="asc"?"sort-up":"sort-down",class:"text-xs"},null,8,["icon"])):(l(),I(b(i),{key:1,icon:"sort",class:"text-xs text-surface-400"}))])],8,W)),64)),t[13]||(t[13]=e("th",{class:"px-4 py-3 text-left text-sm font-medium text-surface-700 dark:text-surface-300"},"操作",-1))])]),e("tbody",null,[(l(!0),f(V,null,M(D.value,a=>(l(),f("tr",{key:a.category_id,class:"border-b border-surface-200 dark:border-surface-700 hover:bg-surface-50 dark:hover:bg-surface-800/50 transition-all"},[e("td",Z,n(a.category_id),1),e("td",ee,n(a.category_code),1),e("td",te,[e("div",ae,[e("span",null,n(a.category_name),1),e("span",se,"("+n(a.product_count)+")",1)])]),e("td",re,[e("span",{class:N(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",a.status===1?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"])},n($[a.status]),3)]),e("td",oe,[e("span",{class:N(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",a.is_deleted===0?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"])},n(T[a.is_deleted]),3)]),e("td",de,n(S(a.created_at)),1),e("td",ne,n(S(a.updated_at)),1),e("td",le,[e("div",ue,[e("button",ce,[m(b(i),{icon:"edit"})]),e("button",ie,[m(b(i),{icon:"trash"})]),e("button",fe,[m(b(i),{icon:"eye"})])])])]))),128))])])]),y.value?(l(),f("div",be,[...t[14]||(t[14]=[e("div",{class:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary-500"},null,-1)])])):D.value.length===0?(l(),f("div",xe,[m(b(i),{icon:"box",class:"text-4xl text-surface-300 dark:text-surface-600 mb-2"}),t[15]||(t[15]=e("p",{class:"text-surface-500 dark:text-surface-400"},"暂无分类数据",-1))])):(l(),f("div",me,[e("div",pe," 显示 "+n((o.value-1)*c.value+1)+" 到 "+n(Math.min(o.value*c.value,p.value.length))+" 条，共 "+n(p.value.length)+" 条 ",1),e("div",ve,[k(e("select",{"onUpdate:modelValue":t[3]||(t[3]=a=>c.value=a),onChange:U,class:"px-2 py-1 rounded border border-surface-300 dark:border-surface-600 bg-surface-0 dark:bg-surface-900 text-surface-800 dark:text-white text-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500"},[...t[16]||(t[16]=[e("option",{value:"5"},"5条/页",-1),e("option",{value:"10"},"10条/页",-1),e("option",{value:"20"},"20条/页",-1),e("option",{value:"50"},"50条/页",-1)])],544),[[w,c.value]]),e("div",ge,[e("button",{onClick:t[4]||(t[4]=a=>o.value=1),disabled:o.value===1,class:"px-3 py-1 rounded border border-surface-300 dark:border-surface-600 bg-surface-0 dark:bg-surface-900 text-surface-800 dark:text-white text-sm hover:bg-surface-100 dark:hover:bg-surface-800 disabled:opacity-50 disabled:cursor-not-allowed transition-all"}," 首页 ",8,ke),e("button",{onClick:t[5]||(t[5]=a=>o.value--),disabled:o.value===1,class:"px-3 py-1 rounded border border-surface-300 dark:border-surface-600 bg-surface-0 dark:bg-surface-900 text-surface-800 dark:text-white text-sm hover:bg-surface-100 dark:hover:bg-surface-800 disabled:opacity-50 disabled:cursor-not-allowed transition-all"}," 上一页 ",8,ye),e("span",_e,n(o.value),1),e("button",{onClick:t[6]||(t[6]=a=>o.value++),disabled:o.value===_.value,class:"px-3 py-1 rounded border border-surface-300 dark:border-surface-600 bg-surface-0 dark:bg-surface-900 text-surface-800 dark:text-white text-sm hover:bg-surface-100 dark:hover:bg-surface-800 disabled:opacity-50 disabled:cursor-not-allowed transition-all"}," 下一页 ",8,he),e("button",{onClick:t[7]||(t[7]=a=>o.value=_.value),disabled:o.value===_.value,class:"px-3 py-1 rounded border border-surface-300 dark:border-surface-600 bg-surface-0 dark:bg-surface-900 text-surface-800 dark:text-white text-sm hover:bg-surface-100 dark:hover:bg-surface-800 disabled:opacity-50 disabled:cursor-not-allowed transition-all"}," 末页 ",8,we)])])]))])])]))}},Ie=z(Ce,[["__scopeId","data-v-3d60445b"]]);export{Ie as default};
