import{_ as y}from"./yFfY4ULO.js";import{_ as r}from"./BU6WxdQt.js";import{_ as M}from"./BzOJMJ9P.js";import{B as R}from"./vNyy0TAU.js";import{bG as v,ci as z,bK as o,bL as l,bM as e,bR as n,bU as a,cc as u,bO as g,bP as _,bQ as p,bT as d,bN as N,ce as h,cf as k}from"./DUMqHgQJ.js";import"./C3Fohc35.js";import"./DEnVEwvk.js";const j={class:"space-y-6"},U={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},T={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},D={class:"lg:col-span-2 space-y-4"},E={class:"overflow-x-auto"},L={class:"w-full"},P={class:"divide-y divide-surface-100 dark:divide-surface-800"},A={class:"px-4 py-3"},F={class:"flex items-center gap-3"},G={class:"font-medium text-surface-800 dark:text-white"},K={class:"px-4 py-3 text-sm text-surface-600 dark:text-surface-300"},O={class:"px-4 py-3 text-sm text-surface-600 dark:text-surface-300"},Q={class:"px-4 py-3"},S={class:"px-4 py-3"},q={class:"flex items-center gap-2"},H={class:"space-y-4"},I={class:"space-y-3"},J={class:"flex items-center justify-between mb-3"},W={class:"flex items-center gap-2"},X={class:"font-medium text-surface-800 dark:text-white"},Y={key:0,class:"space-y-2"},Z=["checked"],ee={class:"text-sm text-surface-600 dark:text-surface-300"},se={class:"mt-4 pt-4 border-t border-surface-200 dark:border-surface-700"},te={class:"space-y-4"},ae={class:"flex justify-end gap-3"},fe={__name:"PermissionManagementView",setup(ne){const c=v(!1),i=z({name:"",description:""}),m=v([{id:1,name:"超级管理员",description:"拥有所有系统权限",icon:"fa-user-shield",iconBg:"bg-gradient-to-br from-danger-500 to-danger-400",userCount:2,status:"active"},{id:2,name:"管理员",description:"管理系统核心功能",icon:"fa-user-cog",iconBg:"bg-gradient-to-br from-primary-600 to-primary-400",userCount:5,status:"active"},{id:3,name:"商家",description:"管理店铺和商品",icon:"fa-store",iconBg:"bg-gradient-to-br from-success-500 to-success-400",userCount:12,status:"active"},{id:4,name:"客服",description:"处理客户咨询和售后",icon:"fa-headset",iconBg:"bg-gradient-to-br from-accent-500 to-accent-400",userCount:8,status:"active"},{id:5,name:"财务",description:"管理财务和结算",icon:"fa-wallet",iconBg:"bg-gradient-to-br from-warning-500 to-warning-400",userCount:3,status:"inactive"}]),w=v([{name:"用户管理",icon:"fa-users",expanded:!0,permissions:[{name:"查看用户列表",enabled:!0},{name:"添加用户",enabled:!0},{name:"编辑用户",enabled:!0},{name:"删除用户",enabled:!1}]},{name:"产品管理",icon:"fa-box",expanded:!1,permissions:[{name:"查看产品",enabled:!0},{name:"添加产品",enabled:!0},{name:"编辑产品",enabled:!0},{name:"删除产品",enabled:!1}]},{name:"订单管理",icon:"fa-shopping-cart",expanded:!1,permissions:[{name:"查看订单",enabled:!0},{name:"处理订单",enabled:!0},{name:"取消订单",enabled:!1},{name:"退款处理",enabled:!1}]},{name:"数据统计",icon:"fa-chart-bar",expanded:!1,permissions:[{name:"查看统计",enabled:!0},{name:"导出报表",enabled:!0}]}]),C=f=>{console.log("编辑角色:",f)},B=f=>{console.log("配置权限:",f)},V=()=>{m.value.push({id:m.value.length+1,name:i.name,description:i.description,icon:"fa-user",iconBg:"bg-gradient-to-br from-surface-500 to-surface-400",userCount:0,status:"active"}),i.name="",i.description="",c.value=!1};return(f,s)=>(l(),o("div",j,[e("div",U,[s[6]||(s[6]=e("h2",{class:"text-2xl font-bold text-surface-800 dark:text-white"},"权限管理",-1)),n(r,{variant:"primary",onClick:s[0]||(s[0]=t=>c.value=!0)},{default:a(()=>[...s[5]||(s[5]=[e("i",{class:"fas fa-plus mr-2"},null,-1),u(" 添加角色 ",-1)])]),_:1})]),e("div",T,[e("div",D,[n(y,{title:"角色列表",padding:!1,"has-table":!0},{default:a(()=>[e("div",E,[e("table",L,[s[10]||(s[10]=e("thead",{class:"bg-surface-50 dark:bg-surface-800"},[e("tr",null,[e("th",{class:"px-4 py-3 text-left text-xs font-semibold text-surface-600 dark:text-surface-400 uppercase"},"角色名称"),e("th",{class:"px-4 py-3 text-left text-xs font-semibold text-surface-600 dark:text-surface-400 uppercase"},"描述"),e("th",{class:"px-4 py-3 text-left text-xs font-semibold text-surface-600 dark:text-surface-400 uppercase"},"用户数"),e("th",{class:"px-4 py-3 text-left text-xs font-semibold text-surface-600 dark:text-surface-400 uppercase"},"状态"),e("th",{class:"px-4 py-3 text-left text-xs font-semibold text-surface-600 dark:text-surface-400 uppercase"},"操作")])],-1)),e("tbody",P,[(l(!0),o(g,null,_(m.value,t=>(l(),o("tr",{key:t.id,class:"hover:bg-surface-50 dark:hover:bg-surface-800/50"},[e("td",A,[e("div",F,[e("div",{class:p(["w-8 h-8 rounded-lg flex items-center justify-center",t.iconBg])},[e("i",{class:p([t.icon,"text-white text-sm"])},null,2)],2),e("span",G,d(t.name),1)])]),e("td",K,d(t.description),1),e("td",O,d(t.userCount),1),e("td",Q,[n(M,{variant:t.status==="active"?"success":"danger"},{default:a(()=>[u(d(t.status==="active"?"启用":"禁用"),1)]),_:2},1032,["variant"])]),e("td",S,[e("div",q,[n(r,{variant:"ghost",size:"sm",onClick:x=>C(t)},{default:a(()=>[...s[7]||(s[7]=[e("i",{class:"fas fa-edit"},null,-1)])]),_:1},8,["onClick"]),n(r,{variant:"ghost",size:"sm",onClick:x=>B(t)},{default:a(()=>[...s[8]||(s[8]=[e("i",{class:"fas fa-cog"},null,-1)])]),_:1},8,["onClick"]),n(r,{variant:"ghost",size:"sm"},{default:a(()=>[...s[9]||(s[9]=[e("i",{class:"fas fa-trash text-danger-500"},null,-1)])]),_:1})])])]))),128))])])])]),_:1})]),e("div",H,[n(y,{title:"权限分配"},{default:a(()=>[e("div",I,[(l(!0),o(g,null,_(w.value,(t,x)=>(l(),o("div",{key:x,class:"border border-surface-200 dark:border-surface-700 rounded-lg p-4"},[e("div",J,[e("div",W,[e("i",{class:p([t.icon,"text-primary-500"])},null,2),e("span",X,d(t.name),1)]),n(r,{variant:"ghost",size:"sm",onClick:b=>t.expanded=!t.expanded},{default:a(()=>[e("i",{class:p(["fas transition-transform",t.expanded?"fa-chevron-up":"fa-chevron-down"])},null,2)]),_:2},1032,["onClick"])]),t.expanded?(l(),o("div",Y,[(l(!0),o(g,null,_(t.permissions,(b,$)=>(l(),o("label",{key:$,class:"flex items-center gap-2 cursor-pointer"},[e("input",{type:"checkbox",checked:b.enabled,class:"rounded border-surface-300 text-primary-600 focus:ring-primary-500"},null,8,Z),e("span",ee,d(b.name),1)]))),128))])):N("",!0)]))),128))]),e("div",se,[n(r,{variant:"primary",class:"w-full"},{default:a(()=>[...s[11]||(s[11]=[u("保存权限配置",-1)])]),_:1})])]),_:1})])]),n(R,{modelValue:c.value,"onUpdate:modelValue":s[4]||(s[4]=t=>c.value=t),title:"添加角色"},{footer:a(()=>[e("div",ae,[n(r,{variant:"secondary",onClick:s[3]||(s[3]=t=>c.value=!1)},{default:a(()=>[...s[14]||(s[14]=[u("取消",-1)])]),_:1}),n(r,{variant:"primary",onClick:V},{default:a(()=>[...s[15]||(s[15]=[u("添加",-1)])]),_:1})])]),default:a(()=>[e("div",te,[e("div",null,[s[12]||(s[12]=e("label",{class:"label"},"角色名称",-1)),h(e("input",{type:"text","onUpdate:modelValue":s[1]||(s[1]=t=>i.name=t),class:"input",placeholder:"请输入角色名称"},null,512),[[k,i.name]])]),e("div",null,[s[13]||(s[13]=e("label",{class:"label"},"角色描述",-1)),h(e("textarea",{"onUpdate:modelValue":s[2]||(s[2]=t=>i.description=t),class:"input",rows:"3",placeholder:"请输入角色描述"},null,512),[[k,i.description]])])])]),_:1},8,["modelValue"])]))}};export{fe as default};
